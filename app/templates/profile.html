{% extends 'base.html' %}

{% block title %}Profiles - Flask Profiles{% endblock %}

{% block content %}
  <h1>
    <i class="bi bi-people"></i> All Profiles
  </h1>

  {% if users %}
    <div class="list-group">
      {% for user in users %}
        <div class="list-group-item">
          <div class="d-flex justify-content-between align-items-start w-100">
            <div class="flex-grow-1">
              <h5 class="mb-2">{{ user.fullname }}</h5>
              <div class="profile-item-meta">
                <div class="meta-field">
                  <i class="bi bi-envelope"></i> <strong>{{ user.email }}</strong>
                </div>
                {% if user.age %}
                  <div class="meta-field">
                    <i class="bi bi-calendar"></i> <strong>{{ user.age }} years</strong>
                  </div>
                {% endif %}
              </div>
              {% if user.bio %}
                <p class="profile-bio">
                  <i class="bi bi-chat-left-quote"></i> {{ user.bio }}
                </p>
              {% endif %}
            </div>
            <div>
              <a href="{{ url_for('main.update', user_id=user.id) }}" class="btn btn-sm btn-outline-primary">
                <i class="bi bi-pencil-square"></i> Update
              </a>
            </div>
          </div>
        </div>
      {% endfor %}
    </div>
  {% else %}
    <div class="empty-state">
      <i class="bi bi-inbox"></i>
      <p>No profiles yet.</p>
      <a href="{{ url_for('main.register') }}">Create your first profile</a>
    </div>
  {% endif %}

{% endblock %}
